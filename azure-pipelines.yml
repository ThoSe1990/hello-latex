# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml



trigger:
- main

pool:
  vmImage: ubuntu-latest

# steps:
# - script: echo Hello, world!
#   displayName: 'Run a one-line script'

steps:
  - script: |
      sudo apt-get update
      sudo apt install texlive-latex-extra -y
      pdflatex ./helloworld.tex
    displayName: 'Run a multi-line script'

  # - publish: $(System.DefaultWorkingDirectory)/helloworld.pdf
  #   artifact: helloworldpdf

  - task: PublishPipelineArtifact@1
    inputs:
      targetPath: '$(Pipeline.Workspace)/helloworld.pdf' # string. Alias: path. Required. File or directory path. Default: $(Pipeline.Workspace).
      #artifact: # string. Alias: artifactName. Artifact name. 
      publishLocation: 'pipeline' # 'pipeline' | 'filepath'. Alias: artifactType. Required. Artifact publish location. Default: pipeline.
      #fileSharePath: # string. Required when artifactType = filepath. File share path. 
      #parallel: false # boolean. Optional. Use when artifactType = filepath. Parallel copy. Default: false.
      #parallelCount: '8' # string. Optional. Use when artifactType = filepath && parallel = true. Parallel count. Default: 8.
      #properties: # string. Custom properties.